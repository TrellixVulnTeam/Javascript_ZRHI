{"remainingRequest":"/Users/kahlilbeasley/Desktop/Javascript/graphql_front_end/graphql/node_modules/babel-loader/lib/index.js!/Users/kahlilbeasley/Desktop/Javascript/graphql_front_end/graphql/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/kahlilbeasley/Desktop/Javascript/graphql_front_end/graphql/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kahlilbeasley/Desktop/Javascript/graphql_front_end/graphql/src/components/Menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kahlilbeasley/Desktop/Javascript/graphql_front_end/graphql/src/components/Menu.vue","mtime":1651901124835},{"path":"/Users/kahlilbeasley/Desktop/Javascript/graphql_front_end/graphql/babel.config.js","mtime":1650079706694},{"path":"/Users/kahlilbeasley/Desktop/Javascript/graphql_front_end/graphql/node_modules/cache-loader/dist/cjs.js","mtime":1651720830943},{"path":"/Users/kahlilbeasley/Desktop/Javascript/graphql_front_end/graphql/node_modules/babel-loader/lib/index.js","mtime":1651720831551},{"path":"/Users/kahlilbeasley/Desktop/Javascript/graphql_front_end/graphql/node_modules/cache-loader/dist/cjs.js","mtime":1651720830943},{"path":"/Users/kahlilbeasley/Desktop/Javascript/graphql_front_end/graphql/node_modules/vue-loader/lib/index.js","mtime":1651720831643}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9rYWhsaWxiZWFzbGV5L0Rlc2t0b3AvSmF2YXNjcmlwdC9ncmFwaHFsX2Zyb250X2VuZC9ncmFwaHFsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBxdWVyaWVzID0gcmVxdWlyZSgnLi4vLi4vbGlicmFyaWVzL3F1ZXJpZXMnKTsKCnZhciBzdWJzY3JpcHRpb25zID0gcmVxdWlyZSgnLi4vLi4vbGlicmFyaWVzL3N1YnNjcmlwdGlvbnMnKTsKCnZhciBtdXRhdGlvbnMgPSByZXF1aXJlKCcuLi8uLi9saWJyYXJpZXMvbXV0YXRpb25zJyk7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01lbnUnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtZXNzYWdlOiAnJywKICAgICAgaGVhZGVyczogW3sKICAgICAgICB0ZXh0OiAnTmFtZScsCiAgICAgICAgdmFsdWU6ICduYW1lJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0Rlc2NyaXB0aW9uJywKICAgICAgICB2YWx1ZTogJ2Rlc2NyaXB0aW9uJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1F1YW50aXR5JywKICAgICAgICB2YWx1ZTogJ3F1YW50aXR5JwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1NpZGVzJywKICAgICAgICB2YWx1ZTogJ3NpZGVzJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0FjdGlvbnMnLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgICB9XSwKICAgICAgZm9vZExpc3Q6IFtdLAogICAgICBsb2FkaW5nOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgR2V0RGF0YTogZnVuY3Rpb24gR2V0RGF0YSgpIHsvLyBjb25zb2xlLmxvZyh0aGlzLiRhcG9sbG8pCiAgICAgIC8vIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGFwb2xsby5xdWVyaWVzLmZvb2QKICAgICAgLy8gdGhpcy5mb29kTGlzdCA9IHJlcy5kYXRhLmZvb2Q7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBidXk6IGZ1bmN0aW9uIGJ1eSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGFwb2xsby5tdXRhdGUoewogICAgICAgICAgICAgICAgICAvLyBRdWVyeQogICAgICAgICAgICAgICAgICBtdXRhdGlvbjogbXV0YXRpb25zLmJ1eUZvb2QKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGFwb2xsbzogewogICAgZm9vZDogewogICAgICBxdWVyeTogcXVlcmllcy5nZXRBbGxGb29kLAogICAgICAvLyBtYW51YWw6IGZhbHNlLAogICAgICByZXN1bHQ6IGZ1bmN0aW9uIHJlc3VsdChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGEsCiAgICAgICAgICAgIGxvYWRpbmcgPSBfcmVmLmxvYWRpbmc7CiAgICAgICAgLy8gY29uc29sZS5sb2coYEFQT0xMTyBGT09EIFFVRVJZJHtKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAxKX0sICR7bG9hZGluZ30sICR7bmV0d29ya1N0YXR1c31gKTsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBsb2FkaW5nOwogICAgICAgIHRoaXMuZm9vZExpc3QgPSBkYXRhLmZvb2Q7CiAgICAgIH0sCiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tCiAgICAgIHN1YnNjcmliZVRvTW9yZTogewogICAgICAgIGRvY3VtZW50OiBzdWJzY3JpcHRpb25zLmZvb2RQdXJjaGFzZWQsCiAgICAgICAgdXBkYXRlUXVlcnk6IGZ1bmN0aW9uIHVwZGF0ZVF1ZXJ5KHByZXZpb3VzRGF0YSwgX3JlZjIpIHsKICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25EYXRhID0gX3JlZjIuc3Vic2NyaXB0aW9uRGF0YTsKICAgICAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGl0ZW0gdG8gdXBkYXRlCiAgICAgICAgICB2YXIgaW5kZXhPZkl0ZW1Ub1VwZGF0ZSA9IHByZXZpb3VzRGF0YS5mb29kLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gc3Vic2NyaXB0aW9uRGF0YS5kYXRhLmZvb2RQdXJjaGFzZWQuaWQ7CiAgICAgICAgICB9KTsgLy8gVXNlIHRoZSBpbmRleCB0byBtb2RpZnkgdGhlIGl0ZW0gZGlyZWN0bHkgYW5kIHVwZGF0ZSB0aGUgcXVhbnRpdHkKCiAgICAgICAgICBwcmV2aW91c0RhdGEuZm9vZFtpbmRleE9mSXRlbVRvVXBkYXRlXS5xdWFudGl0eSA9IHN1YnNjcmlwdGlvbkRhdGEuZGF0YS5mb29kUHVyY2hhc2VkLnF1YW50aXR5OyAvLyByZXR1cm4geyBmb29kOiBbLi4ucHJldmlvdXNEYXRhLCAuLi5zdWJzY3JpcHRpb25EYXRhLmRhdGEuZm9vZFB1cmNoYXNlZF0gfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;;AACA;;AACA;;AAEA;EACAA,YADA;EAEAC;IAAA;MACAC,WADA;MAEAC,UACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAC;MAAA,CAHA,EAIA;QAAAD;QAAAC;MAAA,CAJA,EAKA;QAAAD;QAAAE;MAAA,CALA,CAFA;MASAC,YATA;MAUAC;IAVA;EAAA,CAFA;EAcAC;IACAC,OADA,qBACA,CACA;MACA;MACA;;MAHA;QAAA;UAAA;YAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAIA,CALA;IAMAC,GANA,iBAMA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBACA;kBACAC;gBAFA,EADA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAKA;EAXA,CAdA;EA2BAC;IACAC;MACAC,yBADA;MAEA;MACAC,MAHA,wBAGA;QAAA;QAAA;QACA;QACA;QACA;MACA,CAPA;MAQA;MACAC;QACAC,qCADA;QAEAC;UAAA;UACA;UACA;YAAA;UAAA,GAFA,CAGA;;UACAC,+FAJA,CAKA;QACA;MARA;IATA;EADA;AA3BA","names":["name","data","message","headers","text","value","sortable","foodList","loading","methods","GetData","buy","mutation","apollo","food","query","result","subscribeToMore","document","updateQuery","previousData"],"sourceRoot":"src/components","sources":["Menu.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"foodList\"\n      class=\"elevation-1\"\n      :loading=\"loading\"\n    >\n    <template v-slot:[`item.sides`]=\"{ item }\">\n      <div v-for=\"(side, index) in item.sides\" :key=\"index\">\n        <td>{{ side.name }}</td>\n      </div>\n    </template>\n\n    <!-- ACTIONS -->\n    <template v-slot:[`item.actions`]=\"{ item }\">\n      <v-icon\n        small\n        class=\"mr-2\"\n        @click=\"BuyFood(item.id)\"\n      >\n        mdi-pencil\n      </v-icon>\n      <i class=\"fa-solid fa-user\"></i>\n\n    </template>\n    </v-data-table>\n    <!-- <v-btn @click=\"GetData()\">GET</v-btn> -->\n    <!-- <v-btn @click=\"buy\">BuyFood</v-btn> -->\n    <!-- <v-snackbar v-model=\"snackbar\" :timeout=\"3000\"></v-snackbar> -->\n  </v-container>\n</template>\n\n<script>\n\nconst queries = require('../../libraries/queries')\nconst subscriptions = require('../../libraries/subscriptions')\nconst mutations = require('../../libraries/mutations')\n\n  export default {\n    name: 'Menu',\n    data: () => ({\n      message: '',\n      headers: [\n        { text: 'Name', value: 'name' },\n        { text: 'Description', value: 'description' },\n        { text: 'Quantity', value: 'quantity' },\n        { text: 'Sides', value: 'sides'},\n        { text: 'Actions', sortable: false}\n      ],\n      foodList: [],\n      loading: null\n    }),\n    methods: {\n      async GetData(){\n        // console.log(this.$apollo)\n        // const res = await this.$apollo.queries.food\n        // this.foodList = res.data.food;\n      },\n      async buy(){\n          await this.$apollo.mutate({\n            // Query\n            mutation: mutations.buyFood\n      })\n    }\n    },\n    apollo: {\n      food: {\n        query: queries.getAllFood,\n        // manual: false,\n        result ({data, loading}) {\n          // console.log(`APOLLO FOOD QUERY${JSON.stringify(data, null, 1)}, ${loading}, ${networkStatus}`);\n          this.loading = loading\n          this.foodList = data.food;\n        },\n        // -----------------\n        subscribeToMore: {\n          document: subscriptions.foodPurchased,\n          updateQuery: (previousData, {subscriptionData}) => {\n            // Get the index of the item to update\n            const indexOfItemToUpdate = previousData.food.findIndex(item => item.id === subscriptionData.data.foodPurchased.id)\n            // Use the index to modify the item directly and update the quantity\n            previousData.food[indexOfItemToUpdate].quantity = subscriptionData.data.foodPurchased.quantity;\n            // return { food: [...previousData, ...subscriptionData.data.foodPurchased] }\n          }\n        }\n      }\n    },\n  }\n</script>\n"]}]}